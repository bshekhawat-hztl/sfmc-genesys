<!DOCTYPE html>
<html>
<head>
  <title>Genesys WhatsApp Trigger</title>
  <script src="https://apps.sfmc-content.com/legacy/jbActivity.js"></script>
</head>
<body>
  <h1>Genesys WhatsApp Trigger</h1>
  <p>This is a placeholder for your custom activity UI.</p>

  <script>
    // Initialize connection with Journey Builder
    window.onload = function () {
      if (window.jb && jb.activity) {
        jb.activity.onLoad(function (data) {
          console.log("Activity Loaded", data);
        });

        jb.activity.onSave(function () {
          var payload = {
            metaData: {
              isConfigured: true
            },
            arguments: {
              execute: {
                inArguments: [
                  { to: "9715xxxxxxx" },
                  { message: "Hello from Journey Builder!" },
                  { sessionId: "abc123" },
                  { responseId: "resp001" }
                ],
                outArguments: []
              }
            }
          };

          jb.activity.setPayload(payload);
        });
      } else {
        console.error("Journey Builder context not loaded");
      }
    };
  </script>
</body>
</html>
